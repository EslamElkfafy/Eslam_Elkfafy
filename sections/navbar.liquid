<link rel="stylesheet" href="{{ 'navbar.css' | asset_url }}">

<header class="navbar-header">
  <div class="navbar-container">
    <!-- Logo -->
    <div class="navbar-logo">
      <a href="{{ routes.root_url }}">
        {% if section.settings.logo %}
          <img src="{{ section.settings.logo | img_url: width:151.444 }}" alt="{{ shop.brand.name }}">
        {% else %}
          {% if shop.brand.logo %}
            <img src="{{ shop.brand.logo | img_url: width:151.444 }}" alt="{{ shop.brand.name }}">
          {% else %}
            <span>{{ shop.brand.name }}</span>
          {% endif %}
        {% endif %}
      </a>
    </div>

<!-- Center message - hidden on mobile -->
    <div class="navbar-message-desktop">
      {{ section.settings.navbar_message | escape }}
    </div>

    <!-- CTA Button -->
    <button class="navbar-button-desktop">
      <span class="navbar-button-text">
        <span class="navbar-button-text">{{ section.settings.cta_button_text }}</span>
      </span>
      <svg class="arrow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
      </svg>
    </button>
    
    {% comment %} buger icon {% endcomment %}
    <div class="navbar-icon" id="burger-btn">
      <img id="burger-icon" src="{{ 'burger-icon.svg' | asset_url }}" width="18" height="10" alt="buger icon">
    </div>
    <div class="mobile-nav" id="mobile-nav">
      <div class="navbar-message-mobile">
        {{ section.settings.navbar_message | escape }}
      </div>
  
      <!-- CTA Button -->
      <button class="navbar-button-mobile">
        <span class="navbar-button-text">
          <span class="navbar-button-text">{{ section.settings.cta_button_text }}</span>
        </span>
        <svg class="arrow-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </button>
    </div>
  </div>
</header>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const burgerBtn = document.getElementById('burger-btn');
    const burgerIcon = document.getElementById('burger-icon');
    const mobileNav = document.getElementById('mobile-nav');

    burgerBtn.addEventListener('click', function () {
      const isOpen = mobileNav.classList.toggle('active');
      // Swap icons
      burgerIcon.src = isOpen ? "{{ 'close-burger-icon.svg' | asset_url }}" : "{{ 'burger-icon.svg' | asset_url }}";
    });
  });
</script>
{% schema %}
{
  "name": "Nav Bar",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "text",
      "id": "navbar_message",
      "label": "Navbar message",
      "default": "Find the ideal gift for your loved ones."
    },
    {
      "type": "text",
      "id": "cta_button_text",
      "label": "CTA button text",
      "default": "CHOOSE GIFT"
    }
  ],
  "presets": [
    {
      "name": "Nav Bar",
      "category": "General"
    }
  ]
}
{% endschema %}
